<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#F5F0E8">
    <title>–ö–≤–∞–¥—Ä–∞—Ç 500 - –ê—Ä—Ç –ò–∑—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="app">
        <!-- NAVIGATION BAR -->
        <nav class="nav-bar hidden" id="nav-bar">
            <button class="nav-btn" id="nav-home" title="–ù–∞—á–∞–ª–æ">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">–ù–∞—á–∞–ª–æ</span>
            </button>
            <button class="nav-btn" id="nav-map" title="–ö–∞—Ä—Ç–∞">
                <span class="nav-icon">üó∫Ô∏è</span>
                <span class="nav-label">–ö–∞—Ä—Ç–∞</span>
            </button>
            <button class="nav-btn" id="nav-passport" title="–ü–∞—Å–ø–æ—Ä—Ç">
                <span class="nav-icon">üìï</span>
                <span class="nav-label">–ü–∞—Å–ø–æ—Ä—Ç</span>
                <span class="stamp-count" id="stamp-count">0</span>
            </button>
        </nav>

        <!-- PASSPORT MODAL -->
        <div class="modal-overlay" id="passport-modal">
            <div class="modal-content passport">
                <button class="modal-close" id="passport-close">‚úï</button>
                <h2>üé® –ü–∞—Å–ø–æ—Ä—Ç –Ω–∞ –∏–∑—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è</h2>
                <p class="passport-subtitle">–°—ä–±—Ä–∞–Ω–∏ –ø–µ—á–∞—Ç–∏</p>
                <div class="passport-stamps" id="passport-stamps">
                    <!-- Stamps will be added here -->
                </div>
                <div class="passport-progress">
                    <div class="passport-progress-bar">
                        <div class="passport-progress-fill" id="passport-progress-fill"></div>
                    </div>
                    <span class="passport-progress-text" id="passport-progress-text">0 / 5 –ø–µ—á–∞—Ç–∞</span>
                </div>
            </div>
        </div>

        <!-- SCREEN: Welcome / Rules -->
        <div id="screen-welcome" class="screen active">
            <div class="screen-content">
                <img src="images/character.png" alt="–í–æ–¥–∞—á" class="character-img large">
                <h1>–ö–≤–∞–¥—Ä–∞—Ç 500</h1>
                <p class="subtitle">–ê—Ä—Ç –ò–∑—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª</p>

                <div class="rules-box">
                    <h2>–ö–∞–∫ —Å–µ –∏–≥—Ä–∞–µ?</h2>
                    <div class="rule">
                        <span class="rule-num">1</span>
                        <p>–°–ª–µ–¥–≤–∞–π –º–∞—Ä—à—Ä—É—Ç–∞ –≤ –º—É–∑–µ—è</p>
                    </div>
                    <div class="rule">
                        <span class="rule-num">2</span>
                        <p>–û—Ç–≥–æ–≤–æ—Ä–∏ –Ω–∞ –∑–∞–≥–∞–¥–∫–∏—Ç–µ</p>
                    </div>
                    <div class="rule">
                        <span class="rule-num">3</span>
                        <p>–°—ä–±–µ—Ä–∏ –ø–µ—á–∞—Ç–∏ –≤ –ø–∞—Å–ø–æ—Ä—Ç–∞ —Å–∏</p>
                    </div>
                </div>

                <button class="btn btn-primary" id="btn-start">
                    –ó–∞–ø–æ—á–Ω–∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ—Ç–æ
                </button>
            </div>
        </div>

        <!-- SCREEN: Navigation -->
        <div id="screen-navigate" class="screen">
            <div class="screen-content">
                <!-- Museum Map -->
                <div class="museum-map-container" id="museum-map">
                    <!-- Background texture -->
                    <div class="map-bg"></div>

                    <!-- Walking path SVG -->
                    <svg class="map-path-svg" viewBox="0 0 300 300" preserveAspectRatio="xMidYMid meet">
                        <!-- Soft glow behind path -->
                        <defs>
                            <filter id="pathGlow" x="-50%" y="-50%" width="200%" height="200%">
                                <feGaussianBlur stdDeviation="3" result="blur"/>
                                <feComposite in="SourceGraphic" in2="blur" operator="over"/>
                            </filter>
                        </defs>

                        <!-- Dotted trail path showing the route -->
                        <path id="walking-path" class="walking-path"
                              d="M150,270 L55,195 L55,125 L245,125 L245,50 L150,25"
                              fill="none" stroke="#C9BBA8" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="2,14" opacity="0.7"/>

                        <!-- Route line -->
                        <path class="route-line"
                              d="M150,270 L55,195 L55,125 L245,125 L245,50 L150,25"
                              fill="none" stroke="#B8A88A" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" opacity="0.4"/>

                        <!-- Animated progress path (shows completed route) -->
                        <path id="progress-path" class="progress-path"
                              d="M150,270 L55,195 L55,125 L245,125 L245,50 L150,25"
                              fill="none" stroke="#6B8E6B" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" filter="url(#pathGlow)"/>

                        <!-- Footstep markers along the route -->
                        <g class="footsteps" opacity="0.25">
                            <text x="110" y="265" font-size="10" fill="#8B7355">üë£</text>
                            <text x="70" y="235" font-size="10" fill="#8B7355">üë£</text>
                            <text x="55" y="165" font-size="10" fill="#8B7355">üë£</text>
                            <text x="120" y="125" font-size="10" fill="#8B7355">üë£</text>
                            <text x="180" y="125" font-size="10" fill="#8B7355">üë£</text>
                            <text x="245" y="90" font-size="10" fill="#8B7355">üë£</text>
                            <text x="200" y="35" font-size="10" fill="#8B7355">üë£</text>
                        </g>
                    </svg>

                    <!-- Rooms -->
                    <div class="map-room entrance" data-room="entrance">
                        <div class="room-inner">
                            <span class="room-label">–í–•–û–î</span>
                        </div>
                    </div>

                    <div class="map-room r19" data-room="1">
                        <div class="room-inner">
                            <span class="room-num">19</span>
                        </div>
                        <div class="room-glow"></div>
                    </div>

                    <div class="map-room r21" data-room="2">
                        <div class="room-inner">
                            <span class="room-num">21</span>
                        </div>
                        <div class="room-glow"></div>
                    </div>

                    <div class="map-room r22" data-room="3">
                        <div class="room-inner">
                            <span class="room-num">22</span>
                        </div>
                        <div class="room-glow"></div>
                    </div>

                    <div class="map-room r24" data-room="4">
                        <div class="room-inner">
                            <span class="room-num">24</span>
                        </div>
                        <div class="room-glow"></div>
                    </div>

                    <div class="map-room r25 main-gallery" data-room="5">
                        <div class="room-inner">
                            <span class="room-num">25</span>
                            <span class="room-trophy">üèÜ</span>
                        </div>
                        <div class="room-glow"></div>
                    </div>

                    <!-- Character -->
                    <div class="character-marker" id="character-marker">
                        <img src="images/character.png" alt="–í–æ–¥–∞—á" class="character-sprite">
                    </div>
                </div>

                <div class="speech-bubble">
                    <p class="direction-text" id="direction-text">–¢—Ä—ä–≥–Ω–∏ –Ω–∞–ø—Ä–µ–¥ –∏ –∑–∞–≤–∏–π –Ω–∞–ª—è–≤–æ –∫—ä–º –ó–∞–ª–∞ 19</p>
                </div>

                <div class="destination-card">
                    <span class="destination-label">–°–ª–µ–¥–≤–∞—â–∞ —Å–ø–∏—Ä–∫–∞:</span>
                    <span class="destination-name" id="destination-name">–ó–∞–ª–∞ 19</span>
                </div>

                <button class="btn btn-primary" id="btn-arrived">
                    –ü—Ä–∏—Å—Ç–∏–≥–Ω–∞—Ö!
                </button>
            </div>
        </div>

        <!-- SCREEN: Riddle -->
        <div id="screen-riddle" class="screen">
            <div class="screen-content">

                <div class="artwork-image-container">
                    <img src="images/rachenitsa.jpg" alt="–ö–∞—Ä—Ç–∏–Ω–∞" class="artwork-image" id="artwork-image">
                </div>

                <div class="riddle-frame">
                    <span class="riddle-number" id="riddle-number">1</span>
                    <p class="riddle-text" id="riddle-text">
                        –í —Å—è–Ω–∫–∞—Ç–∞ –Ω–∞ –¥—ä—Ä–≤–æ—Ç–æ, —Å–ª–µ–¥ –¥—ä–ª—ä–≥ –¥–µ–Ω –Ω–∞ –ø–æ–ª–µ—Ç–æ, —Å–µ–ª—è–Ω–∏–Ω –µ –Ω–∞–º–µ—Ä–∏–ª –ø–æ–∫–æ–π. –ö–æ–π —Ö—É–¥–æ–∂–Ω–∏–∫ –µ –Ω–∞—Ä–∏—Å—É–≤–∞–ª —Ç–∞–∑–∏ –∫–∞—Ä—Ç–∏–Ω–∞?
                    </p>
                </div>

                <div class="artwork-info" id="artwork-info">
                    <span class="artwork-label">–¢—ä—Ä—Å–∏ –∫–∞—Ä—Ç–∏–Ω–∞—Ç–∞:</span>
                    <span class="artwork-name" id="artwork-name">–†–∞—Ç–∞–π</span>
                </div>

                <div class="answer-section">
                    <input type="text" id="answer-input" class="answer-input" placeholder="–í—ä–≤–µ–¥–∏ –æ—Ç–≥–æ–≤–æ—Ä..." autocomplete="off" autocapitalize="none">
                    <div class="feedback" id="feedback"></div>
                    <button class="btn btn-secondary" id="btn-hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
                    <button class="btn btn-primary" id="btn-check">–ü—Ä–æ–≤–µ—Ä–∏</button>
                </div>

            </div>
        </div>

        <!-- SCREEN: Stamp Received -->
        <div id="screen-stamp" class="screen">
            <div class="screen-content center">
                <div class="stamp-animation">
                    <div class="stamp-circle">
                        <span class="stamp-icon" id="stamp-icon">üåæ</span>
                    </div>
                </div>

                <h2>–ë—Ä–∞–≤–æ!</h2>
                <p class="stamp-message">–ü–æ–ª—É—á–∏ –ø–µ—á–∞—Ç!</p>

                <div class="physical-stamp-info">
                    <span class="physical-label">–§–∏–∑–∏—á–µ—Å–∫–∏—è—Ç –ø–µ—á–∞—Ç –µ –ø—Ä–∏:</span>
                    <span class="physical-location" id="physical-location">–ò–∑—Ö–æ–¥–∞ –Ω–∞ –ó–∞–ª–∞ 19, –¥–æ –≤—Ä–∞—Ç–∞—Ç–∞</span>
                </div>

                <button class="btn btn-primary" id="btn-continue">
                    –ü—Ä–æ–¥—ä–ª–∂–∏
                </button>
            </div>
        </div>

        <!-- SCREEN: Complete -->
        <div id="screen-complete" class="screen">
            <div class="screen-content center">
                <div class="trophy-animation">
                    <span class="trophy">üèÜ</span>
                </div>

                <h2>–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è!</h2>
                <p>–°—ä–±—Ä–∞ –≤—Å–∏—á–∫–∏ –ø–µ—á–∞—Ç–∏!</p>

                <div class="final-stamps" id="final-stamps">
                    <!-- Stamps shown here -->
                </div>

                <p class="complete-message">–ü–æ–∫–∞–∂–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞ —Å–∏ –Ω–∞ –∏–∑—Ö–æ–¥–∞ –∑–∞ –Ω–∞–≥—Ä–∞–¥–∞!</p>

                <button class="btn btn-secondary" id="btn-restart">
                    –ò–≥—Ä–∞–π –æ—Ç–Ω–æ–≤–æ
                </button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
