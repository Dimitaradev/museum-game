<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–≤–∞–¥—Ä–∞—Ç 500 - –õ–æ–≤ –Ω–∞ –ü–µ—á–∞—Ç–∏</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="app">
        <!-- ============================================
             SCREEN: HOME / INTRO
             ============================================ -->
        <div id="screen-home" class="screen active">
            <div class="home-container">
                <div class="home-header">
                    <div class="logo">üèõÔ∏è</div>
                    <h1>–ö–≤–∞–¥—Ä–∞—Ç 500</h1>
                    <p class="tagline">–õ–æ–≤ –Ω–∞ –ü–µ—á–∞—Ç–∏ ‚Ä¢ Stamp Hunt</p>
                </div>

                <div class="character-select">
                    <h2>–ò–∑–±–µ—Ä–∏ —Å–≤–æ—è –≤–æ–¥–∞—á</h2>
                    <div class="character-options" id="character-options">
                        <!-- Characters will be rendered by JS -->
                    </div>
                </div>

                <div class="game-info">
                    <div class="info-card">
                        <span class="info-icon">üó∫Ô∏è</span>
                        <h3>–ò–∑—Å–ª–µ–¥–≤–∞–π</h3>
                        <p>–î–≤–∏–∂–∏ —Å–µ –∏–∑ –º—É–∑–µ—è –∏ –æ—Ç–∫—Ä–∏–≤–∞–π —Ç–∞–π–Ω–∏</p>
                    </div>
                    <div class="info-card">
                        <span class="info-icon">üß©</span>
                        <h3>–†–∞–∑–≥–∞–¥–∞–≤–∞–π</h3>
                        <p>–†–µ—à–∏ –∑–∞–≥–∞–¥–∫–∏ –∑–∞ –≤—Å—è–∫–∞ —Ç–≤–æ—Ä–±–∞</p>
                    </div>
                    <div class="info-card">
                        <span class="info-icon">üìí</span>
                        <h3>–°—ä–±–∏—Ä–∞–π</h3>
                        <p>–°–ø–µ—á–µ–ª–∏ –ø–µ—á–∞—Ç–∏ –≤ –±—Ä–æ—à—É—Ä–∞—Ç–∞ —Å–∏</p>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" id="btn-start" disabled>
                    <span>üöÄ</span> –ó–∞–ø–æ—á–Ω–∏ –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ—Ç–æ
                </button>

                <p class="prototype-note">Prototype for NBU Marketing Course</p>
            </div>
        </div>

        <!-- ============================================
             SCREEN: MAP / MAIN GAME
             ============================================ -->
        <div id="screen-map" class="screen">
            <!-- Top HUD -->
            <div class="game-hud">
                <div class="hud-left">
                    <div class="player-info">
                        <span class="player-avatar" id="hud-avatar">üé®</span>
                        <span class="player-name" id="hud-name">–ò–≥—Ä–∞—á</span>
                    </div>
                </div>
                <div class="hud-center">
                    <div class="progress-mini">
                        <span id="hud-progress">0/5</span>
                        <div class="progress-dots" id="hud-dots">
                            <!-- Dots rendered by JS -->
                        </div>
                    </div>
                </div>
                <div class="hud-right">
                    <button class="hud-btn" id="btn-stamps" title="–ë—Ä–æ—à—É—Ä–∞">üìí</button>
                    <button class="hud-btn" id="btn-menu" title="–ú–µ–Ω—é">‚ò∞</button>
                </div>
            </div>

            <!-- Interactive 3D Corridor Map -->
            <div class="map-container" id="map-container">
                <div class="map-wrapper" id="map-wrapper">
                    <!-- 3D Corridor scene rendered by JS -->
                </div>
            </div>

            <!-- Room interaction prompt -->
            <div class="room-prompt" id="room-prompt">
                <div class="prompt-content">
                    <span class="prompt-icon">‚ùì</span>
                    <span class="prompt-text" id="prompt-text">–î–æ–∫–æ—Å–Ω–∏ —Å—Ç–∞—è, –∑–∞ –¥–∞ —Å–µ –ø—Ä–∏–¥–≤–∏–∂–∏—à</span>
                </div>
            </div>

            <!-- Bottom action bar -->
            <div class="action-bar">
                <button class="action-btn" id="btn-hint-map" disabled>
                    <span>üí°</span> –ü–æ–¥—Å–∫–∞–∑–∫–∞
                </button>
                <button class="action-btn primary" id="btn-interact" disabled>
                    <span>üîç</span> –ò–∑—Å–ª–µ–¥–≤–∞–π
                </button>
            </div>
        </div>

        <!-- ============================================
             SCREEN: RIDDLE MODAL
             ============================================ -->
        <div id="modal-riddle" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content riddle-modal">
                <div class="modal-header">
                    <div class="riddle-location">
                        <span class="location-icon">üìç</span>
                        <span id="riddle-room-name">–ó–∞–ª–∞ 19</span>
                    </div>
                    <button class="modal-close" id="btn-close-riddle">‚úï</button>
                </div>

                <div class="riddle-body">
                    <div class="guide-speech">
                        <div class="guide-avatar" id="modal-guide-avatar">üé®</div>
                        <div class="speech-bubble">
                            <p class="guide-name" id="modal-guide-name">–ó–ª–∞—Ç–Ω–∞—Ç–∞ –ú—É–∑–∞ –∫–∞–∑–≤–∞:</p>
                            <p class="riddle-text" id="riddle-text">
                                –¢—É–∫ —â–µ —Å–µ –ø–æ—è–≤–∏ –∑–∞–≥–∞–¥–∫–∞—Ç–∞...
                            </p>
                        </div>
                    </div>

                    <div class="artwork-hint" id="artwork-hint">
                        <span class="artwork-label">–¢—ä—Ä—Å–∏:</span>
                        <span class="artwork-name" id="artwork-name">–ò–º–µ—Ç–æ –Ω–∞ —Ç–≤–æ—Ä–±–∞—Ç–∞</span>
                    </div>

                    <div class="hint-section" id="hint-section">
                        <button class="btn-show-hint" id="btn-show-hint">
                            üí° –ü–æ–∫–∞–∂–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞
                        </button>
                        <div class="hint-content" id="hint-content">
                            <p id="hint-text">–ü–æ–¥—Å–∫–∞–∑–∫–∞—Ç–∞ —â–µ —Å–µ –ø–æ—è–≤–∏ —Ç—É–∫...</p>
                        </div>
                    </div>

                    <div class="answer-section">
                        <input
                            type="text"
                            id="answer-input"
                            class="answer-input"
                            placeholder="–í—ä–≤–µ–¥–∏ –æ—Ç–≥–æ–≤–æ—Ä..."
                            autocomplete="off"
                            autocapitalize="none"
                        >
                        <div class="feedback" id="feedback"></div>
                        <button class="btn btn-primary" id="btn-check-answer">
                            ‚úì –ü—Ä–æ–≤–µ—Ä–∏
                        </button>
                    </div>

                    <!-- QR Scanner placeholder for future -->
                    <div class="qr-placeholder" id="qr-placeholder">
                        <span>üì∑</span>
                        <p>–ò–ª–∏ —Å–∫–∞–Ω–∏—Ä–∞–π QR –∫–æ–¥ –Ω–∞ –ª–æ–∫–∞—Ü–∏—è—Ç–∞</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================
             SCREEN: STAMPS MODAL
             ============================================ -->
        <div id="modal-stamps" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content stamps-modal">
                <div class="modal-header">
                    <h2>üìí –ú–æ—è—Ç–∞ –ë—Ä–æ—à—É—Ä–∞</h2>
                    <button class="modal-close" id="btn-close-stamps">‚úï</button>
                </div>

                <div class="stamps-body">
                    <div class="stamps-progress">
                        <div class="progress-ring" id="stamps-ring">
                            <svg viewBox="0 0 100 100">
                                <circle class="progress-bg" cx="50" cy="50" r="45"/>
                                <circle class="progress-fill" cx="50" cy="50" r="45" id="progress-circle"/>
                            </svg>
                            <div class="progress-center">
                                <span class="progress-number" id="stamps-count">0</span>
                                <span class="progress-label">/ <span id="stamps-total">5</span></span>
                            </div>
                        </div>
                        <p class="progress-message" id="stamps-message">–°—ä–±–∏—Ä–∞–π –ø–µ—á–∞—Ç–∏!</p>
                    </div>

                    <div class="stamps-grid" id="stamps-grid">
                        <!-- Stamps rendered by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================
             SCREEN: SUCCESS CELEBRATION
             ============================================ -->
        <div id="modal-success" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content success-modal">
                <div class="success-animation">
                    <div class="confetti"></div>
                    <div class="stamp-collected" id="stamp-collected">
                        <span class="stamp-icon">üåæ</span>
                    </div>
                </div>
                <h2>–ü–µ—á–∞—Ç –°—ä–±—Ä–∞–Ω!</h2>
                <p id="success-message">–ë—Ä–∞–≤–æ! –ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞–π –Ω–∞–ø—Ä–µ–¥!</p>
                <button class="btn btn-primary" id="btn-continue">
                    –ü—Ä–æ–¥—ä–ª–∂–∏ ‚Üí
                </button>
            </div>
        </div>

        <!-- ============================================
             SCREEN: GAME COMPLETE
             ============================================ -->
        <div id="modal-complete" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content complete-modal">
                <div class="trophy-animation">
                    <span class="trophy">üèÜ</span>
                </div>
                <h2>–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è!</h2>
                <p>–°—ä–±—Ä–∞ –≤—Å–∏—á–∫–∏ –ø–µ—á–∞—Ç–∏ –∏ –∑–∞–≤—ä—Ä—à–∏ –º–∞—Ä—à—Ä—É—Ç–∞!</p>
                <p class="subtitle">–¢–∏ —Å–∏ –∏—Å—Ç–∏–Ω—Å–∫–∏ –ø–æ–∑–Ω–∞–≤–∞—á –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–æ—Ç–æ –∏–∑–∫—É—Å—Ç–≤–æ!</p>

                <div class="final-stamps" id="final-stamps">
                    <!-- Final stamps display -->
                </div>

                <div class="complete-actions">
                    <button class="btn btn-secondary" id="btn-view-brochure">
                        üìí –í–∏–∂ –ë—Ä–æ—à—É—Ä–∞—Ç–∞
                    </button>
                    <button class="btn btn-primary" id="btn-play-again">
                        üîÑ –ò–≥—Ä–∞–π –û—Ç–Ω–æ–≤–æ
                    </button>
                </div>
            </div>
        </div>

        <!-- ============================================
             MENU OVERLAY
             ============================================ -->
        <div id="menu-overlay" class="menu-overlay">
            <div class="menu-content">
                <button class="menu-close" id="btn-close-menu">‚úï</button>
                <h2>–ú–µ–Ω—é</h2>
                <nav class="menu-nav">
                    <button class="menu-item" id="menu-home">
                        <span>üè†</span> –ù–∞—á–∞–ª–æ
                    </button>
                    <button class="menu-item" id="menu-stamps">
                        <span>üìí</span> –ë—Ä–æ—à—É—Ä–∞
                    </button>
                    <button class="menu-item" id="menu-reset">
                        <span>üîÑ</span> –ó–∞–ø–æ—á–Ω–∏ –û—Ç–Ω–æ–≤–æ
                    </button>
                </nav>
                <div class="menu-footer">
                    <p>–ö–≤–∞–¥—Ä–∞—Ç 500 - –õ–æ–≤ –Ω–∞ –ü–µ—á–∞—Ç–∏</p>
                    <p class="version">Prototype v1.0</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/data.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/map.js"></script>
    <script src="js/game.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
